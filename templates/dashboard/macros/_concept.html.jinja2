{# lang=None is passed from the dashboard.html.jinja2 template to the render_concept macro #}
{# lang is set to None because the macro may be called without a specific language context #}
{# This allows the macro to conditionally include language-specific content #}

{% macro render_concept(concept_header, concept_intro_h2, concept_intro_text, concept_details, lang=None) %}
{# WHOLE CONTAINER #}
<main class="concept-main">

    {# CONCEPT HEADING #}
    <div class="main-concept-heading-container">
        <h1>{{ concept_header }}</h1>
    </div>

    {# CONCEPT INTRODUCTION #}
    <section class="main-concept-intro-container" >
        <h2>{{ concept_intro_h2 }}</h2>
        {% for line in concept_intro_text %}
            <p>{{ line }}</p>
            <br>
        {% endfor %}
    </section>

    {# ALL SUB CONCEPTS SECTION  #}
    <div class="sub-concepts-content-container">
        {% for sub_concept in concept_details %}

            {# SINGLE SUB CONCEPT SECTION  #}
            <section id="" class="concept-section">

                    <div class="concept-header">
                        <h2 class="concept-title">{{ sub_concept.title }}</h2>
                        <p class="concept-description">{{ sub_concept.purpose }}</p>
                    </div>

                    <div class="concept-content">
                        <p>{{ sub_concept.description }}</p>

                        {% if lang == "CSS" %}
                            {% include "dashboard/langconcepts/cssconcepts/css_concept_code_block.html.jinja2" %}
                        {% else %}
                        <div class="code-block">
                            NO CODE EXAMPLE AVAILABLE
                        </div>
                        {% endif %}

                        {% if sub_concept.demo.name is iterable and sub_concept.demo.name is not string %}
                            {% for demo_name, example in zip(sub_concept.demo.name, sub_concept.demo.examples) %}
                                <div class="demo-container">
                                        <div class="demo-label">{{ demo_name }}</div>
                                        <div class="flex-container wrap-nowrap">
                                        {% for example in example %}
                                            <div class="flex-item">{{ example }}</div>
                                        {% endfor %}
                                        </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <div class="demo-container">
                                    <div class="demo-label">{{ sub_concept.demo.name }}</div>
                                    <div class="flex-container wrap-nowrap">
                                    {% for example in sub_concept.demo.examples %}
                                        <div class="flex-item">{{ example }}</div>
                                    {% endfor %}
                                    </div>
                            </div>
                        {% endif %}

                    </div>


            </section>
            
                

        {% endfor %}
    </div>


</main>

{% endmacro %}


